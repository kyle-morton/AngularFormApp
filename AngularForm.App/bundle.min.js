"use strict";angular.module("AngularFormApp",["ui.router","ngResource"]).config(function(n,t,i,r,u){t.otherwise("/home");var e={navBar:{templateUrl:"/App/navBar/html/navBar.html",controller:"NavBarController"}},f=angular.extend({},e,{navButtons:{templateUrl:"/App/navButtons/html/navButtons.html",controller:"NavButtonsController"},statusSummary:{templateUrl:"/App/statusSummary/html/statusSummary.html",controller:"StatusSummaryController"}});n.state(r.HOME.KEY,{url:"/home",views:angular.extend({},e,{contentView:{templateUrl:"App/home/html/home.html",controller:"HomeController"}})}).state(u.FORM_LIST.KEY,{url:"/forms",views:angular.extend({},e,{contentView:{templateUrl:"App/formList/html/formList.html",controller:"FormListController"}})}).state(u.FORM[0].KEY,{url:"/form",bannerTitle:u.FORM[0].TITLE,views:angular.extend({},f,{contentView:{templateUrl:"App/form/html/personalInfo.html",controller:"FormController"}})}).state(u.FORM[1].KEY,{url:"/form",bannerTitle:u.FORM[1].TITLE,views:angular.extend({},f,{contentView:{templateUrl:"App/form/html/address.html",controller:"FormController"}})}).state(u.FORM[2].KEY,{url:"/form",bannerTitle:u.FORM[2].TITLE,views:angular.extend({},f,{contentView:{templateUrl:"App/form/html/education.html",controller:"FormController"}})}).state(u.FORM[3].KEY,{url:"/form",bannerTitle:u.FORM[3].TITLE,views:angular.extend({},f,{contentView:{templateUrl:"App/form/html/employment.html",controller:"FormController"}})}).state(u.FORM[4].KEY,{url:"/form",bannerTitle:u.FORM[4].TITLE,views:angular.extend({},f,{contentView:{templateUrl:"App/form/html/certification.html",controller:"FormController"}})}).state(u.FORM[5].KEY,{url:"/form",bannerTitle:u.FORM[5].TITLE,views:angular.extend({},f,{contentView:{templateUrl:"App/form/html/references.html",controller:"FormController"}})}).state(u.FORM[6].KEY,{url:"/form",bannerTitle:u.FORM[6].TITLE,views:angular.extend({},f,{contentView:{templateUrl:"App/form/html/hobbies.html",controller:"FormController"}})});i.hashPrefix("")});angular.module("AngularFormApp").constant("appConstants",{API_BASE:"http://localhost:61109/api",LOGIN_URI:"/authenticateUser",HOME:{KEY:"home"}});angular.module("AngularFormApp").service("StorageService",function(n){this.getItem=function(t){return n.localStorage.getItem(t)};this.setItem=function(t,i){n.localStorage.setItem(t,i)};this.clearItem=function(t){n.localStorage.removeItem(t,null)}});angular.module("AngularFormApp").service("ApiService",function(n,t,i,r,u){function f(n,t,i,f,s,h){var l=e+n,a=angular.extend({},{Accept:"application/json,text/html"},h||{}),c=o[s]||o[s].get,v=c.verb==="GET",y=n===u.LOGIN_URI;return f&&(f[s]={headers:a,method:c.verb},v&&(f[s].isArray=!1),y&&(f[s].isArray=!0)),c.fn(r(l,i||null,f),t).$promise}var e=u.API_BASE,o={"delete":{verb:"DELETE",fn:function(n){return n.delete()}},get:{verb:"GET",fn:function(n){return n.get()}},query:{verb:"GET",fn:function(n){return n.query()}},save:{verb:"POST",fn:function(n,t){return n.save(t)}},update:{verb:"PUT",fn:function(n,t){return n.update(t)}}};return{get:function(t,i){return n({method:"GET",url:e+t,headers:{"Content-Type":"application/json; charset=utf-8"},params:i})},post:function(n,t,i){return f(n,t,i,null,"save")},put:function(n,t,i){return f(n,t,i,null,"update")},remove:function(n,t){return f(n,null,t,null,"delete")}}});angular.module("AngularFormApp").service("AlertService",function(){var n={};return n.success=function(t,i){return n.displayMessage(t,i,"success")},n.error=function(t,i){return n.displayMessage(t,i,"error")},n.displayMessage=function(n,t,i){return swal(n,t,i)},n});angular.module("AngularFormApp").service("formService",function(n,t){var i={};return i.submit=function(i,r){return t.post(n.API.SUBMIT,JSON.stringify(i),{}).then(function(n){r(n)},function(){r(!1)})},i.get=function(){},i.getAll=function(i){return t.get(n.API.GET_ALL,{}).then(function(n){i(n.data)},function(){i(!1)})},i.delete=function(i,r){return t.remove(n.API.DELETE,{id:i}).then(function(n){r(n.data)},function(){r(!1)})},i});angular.module("AngularFormApp").service("formNavigationService",function(n,t){this.isStart=function(){var i=t.current.name,r=n.FORM.map(function(n){return n.IS_START}).indexOf(!0);return i===n.FORM[r].KEY};this.goToStart=function(){var t=n.FORM.map(function(n){return n.IS_START}).indexOf(!0);this.go(n.FORM[t].KEY)};this.getNextStep=function(){var r=t.current.name,i=n.FORM.map(function(n){return n.KEY}).indexOf(r);return n.FORM[i].IS_END?null:n.FORM[i+1].KEY};this.getPreviousStep=function(){var r=t.current.name,i=n.FORM.map(function(n){return n.KEY}).indexOf(r);return n.FORM[i].IS_START?null:n.FORM[i-1].KEY}});angular.module("AngularFormApp").constant("formConstants",{STEP_KEY:"formStep",FORM_KEY:"formState",FORM_LIST:{KEY:"formList"},FORM:[{KEY:"personalInfo",TITLE:"Personal Information",IS_START:!0},{KEY:"address",TITLE:"Address"},{KEY:"education",TITLE:"Education",IS_END:!0},{KEY:"employment",TITLE:"Employment"},{KEY:"ceritification",TITLE:"Ceritification"},{KEY:"reference",TITLE:"References"},{KEY:"hobbies",TITLE:"Hobbies"},{KEY:"review",TITLE:"Review"}],STATES:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],API:{SUBMIT:"/form/Submit",GET_ALL:"/form/getall",GET:"form/get",DELETE:"/form/delete"}});angular.module("AngularFormApp").controller("StatusSummaryController",function(n,t,i,r){var e,u,f;for(console.log("statusSummary init..."),e=r.FORM,u="",f=0;f<e.length;f++)if(u=u.concat(e[f].TITLE),e[f].KEY===t.current.name)break;else u=u.concat(" -> ");n.statusString=u});angular.module("AngularFormApp").controller("NavButtonsController",function(){console.log("navbuttons init...")});angular.module("AngularFormApp").controller("NavBarController",function(n,t,i,r){var u=t.current.name;n.isHome=i.HOME.KEY===u;n.isForms=r.FORM_LIST.KEY===u;n.isForm=r.FORM.KEY===u;n.goToHome=function(){t.go(i.HOME.KEY,{})};n.goToForms=function(){t.go(r.FORM_LIST.KEY,{})};n.goToFormStart=function(){t.go(r.FORM[0].KEY,{})}});angular.module("AngularFormApp").controller("HomeController",function(n){n.errorMessage="";n.data={};n.loading=!1;console.log("home initialized...")});angular.module("AngularFormApp").controller("FormController",function(n,t,i,r,u,f,e){n.isFormValid=!0;n.isProcessing=!1;n.isStart=f.isStart();var o=r.getItem(i.FORM_KEY);n.form=o?JSON.parse(o):{};n.isStart||n.form||f.goToStart();n.states=i.STATES;n.back=function(){var n=f.getPreviousStep();t.go(n,{})};n.submit=function(){if(n.isFormValid){n.isProcessing=!0;r.setItem(i.FORM_KEY,JSON.stringify(n.form));var o=f.getNextStep();o?(t.go(o,{}),r.setItem(i.STEP_KEY,o)):e.submit(n.form,function(n){n&&n.IsSuccess?u.success("Form saved!","Thanks for your submission!").then(function(){t.go(i.FORM_LIST.KEY,{});r.clearItem(i.FORM_KEY);r.clearItem(i.STEP_KEY)}):u.error("Error!","An error has occurred!").then(function(){t.go(i.FORM_LIST.KEY,{})})})}}});angular.module("AngularFormApp").controller("FormListController",function(n,t,i,r){n.forms=[];n.isLoading=!1;n.getForms=function(){n.isLoading=!0;i.getAll(function(t){t&&(n.forms=t);n.isLoading=!1})};n.edit=function(n){console.log("editing: "+n.Id)};n.delete=function(n){console.log("deleting: "+n.Id);i.delete(n.Id,function(n){n&&r.success("Form saved!","Thanks for your submission!").then(function(){})})};n.getForms()});