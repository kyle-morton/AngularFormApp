"use strict";angular.module("AngularFormApp",["ui.router"]).config(function(n,t,i,r){t.otherwise("/home");var u={navBar:{templateUrl:"/App/navBar/html/navBar.html",controller:"NavBarController"}},f=angular.extend({},u,{navButtons:{templateUrl:"/App/navButtons/html/navButtons.html",controller:"NavButtonsController"},statusSummary:{templateUrl:"/App/statusSummary/html/statusSummary.html",controller:"StatusSummaryController"}});n.state("home",{url:"/home",views:angular.extend({},u,{contentView:{templateUrl:"App/home/html/home.html",controller:"HomeController"}})}).state(r.FORM[0].KEY,{url:"/form",bannerTitle:r.FORM[0].TITLE,views:angular.extend({},f,{contentView:{templateUrl:"App/form/html/personalInfo.html",controller:"FormController"}})}).state(r.FORM[1].KEY,{url:"/form",bannerTitle:r.FORM[1].TITLE,views:angular.extend({},u,{contentView:{templateUrl:"App/form/html/address.html",controller:"FormController"}})}).state(r.FORM[2].KEY,{url:"/form",bannerTitle:r.FORM[2].TITLE,views:angular.extend({},u,{contentView:{templateUrl:"App/form/html/education.html",controller:"FormController"}})});i.hashPrefix("")});angular.module("AngularFormApp").constant("appConstants",{API_URL:"http://localhost:61109/api/form/",STATE_KEY:"appState",FORM_KEY:"formState",HOME:{KEY:"home"},FORM:[{KEY:"personalInfo",TITLE:"Personal Information",IS_START:!0},{KEY:"address",TITLE:"Address"},{KEY:"education",TITLE:"Education",IS_END:!0}]});angular.module("AngularFormApp").service("NavigationService",function(n,t){this.isStart=function(){var i=t.current.name,r=n.FORM.map(function(n){return n.IS_START}).indexOf(!0);return i===n.FORM[r].KEY};this.goToStart=function(){var t=n.FORM.map(function(n){return n.IS_START}).indexOf(!0);this.go(n.FORM[t].KEY)};this.getNextState=function(){var r=t.current.name,i=n.FORM.map(function(n){return n.KEY}).indexOf(r);return n.FORM[i].IS_END?null:n.FORM[i+1].KEY};this.getPreviousState=function(){var r=t.current.name,i=n.FORM.map(function(n){return n.KEY}).indexOf(r);return n.FORM[i].IS_START?null:n.FORM[i-1].KEY};this.go=function(n,i){t.go(n,i)}});angular.module("AngularFormApp").service("StorageService",function(n){this.getItem=function(t){return n.localStorage.getItem(t)};this.setItem=function(t,i){n.localStorage.setItem(t,i)};this.clearItem=function(t){n.localStorage.removeItem(t,null)}});angular.module("AngularFormApp").service("FormService",function(n,t,i){this.getForm=function(){var i=t.getItem(n.FORM_KEY);return i?JSON.parse(i):null};this.setForm=function(i){t.setItem(n.FORM_KEY,JSON.stringify(i))};this.clearForm=function(){t.clearItem(n.FORM_KEY)};this.submit=function(t){return i({method:"POST",url:n.API_URL+"Submit",data:JSON.stringify(t)})};this.getAll=function(){return i({method:"GET",url:n.API_URL+"GetAll"})}});angular.module("AngularFormApp").controller("StatusSummaryController",function(){console.log("statusSummary init...")});angular.module("AngularFormApp").controller("NavButtonsController",function(){console.log("navbuttons init...")});angular.module("AngularFormApp").controller("NavBarController",function(n,t,i){var r=t.current.name;console.log("key/state: "+i.HOME.KEY+"/"+r);n.isHome=i.HOME.KEY===r;n.goToHome=function(){t.go(i.HOME.KEY,{})};n.goToFormStart=function(){t.go(i.FORM[0].KEY,{})}});angular.module("AngularFormApp").controller("HomeController",function(n){n.errorMessage="";n.data={};n.loading=!1;console.log("home initialized...")});angular.module("AngularFormApp").controller("FormController",function(n,t,i){n.isFormValid=!0;n.isStart=i.isStart();n.form=t.getForm();n.isStart||n.form||i.goToStart();n.form=n.form?n.form:{};n.back=function(){var n=i.getPreviousState();i.go(n)};n.submit=function(){if(n.isFormValid){t.setForm(n.form);var r=i.getNextState();r?i.go(r):(t.submit(n.form),console.log("submit form via API..."))}}});